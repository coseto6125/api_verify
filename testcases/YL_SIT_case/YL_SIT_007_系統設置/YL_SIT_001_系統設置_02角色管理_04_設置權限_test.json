{
  "config": {
    "name": "001_系統設置_角色管理_04_設置權限filter=True",
    "base_url": "http://192.168.33.5:9100",
    "variables": {
      "_getinfo": "${get_backend_info(YL)}",
      "connect_sid": "${get_connect_sid(YL)}",
      "headers_cookie": "${get_headers_cookie(YL)}"
    }
  },
  "teststeps": [
    {
      "name": "/rolemanage/GetRolePowerTree",
      "request": {
        "method": "GET",
        "url": "/rolemanage/GetRolePowerTree",
        "params": {
          "isagent": "0",
          "roleId": "1"
        },
        "headers": {
          "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36",
          "X-Requested-With": "XMLHttpRequest"
        },
        "cookies": {
          "connect.sid": "$connect_sid"
        }
      },
      "validate": [
        {
          "check": "status_code",
          "assert": "eq",
          "expect": 200
        },
        {
          "check": "headers.\"Content-Type\"",
          "assert": "eq",
          "expect": "text/plain;charset=utf-8"
        }
      ]
    },
    {
      "name": "/rolemanage/SetGrant",
      "request": {
        "method": "POST",
        "url": "/rolemanage/SetGrant",
        "headers": {
          "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8",
          "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36",
          "X-Requested-With": "XMLHttpRequest"
        },
        "cookies": {
          "connect.sid": "$connect_sid"
        },
        "body": {
          "powerlist": "1,986,987,988,989,41,323,45,289,324,290,657,311,66,121,437,122,123,125,194,126,438,128,127,129,947,949,948,950,131,392,393,459,195,333,394,334,445,446,448,447,449,466,1000,1001,1002,1003,1004,358,854,855,856,520,521,522,523,693,698,696,2,942,943,944,945,946,102,439,103,107,825,108,440,109,196,197,198,199,200,201,202,203,340,356,114,441,115,116,118,193,960,967,961,962,963,964,965,966,3,291,442,292,293,295,294,296,297,298,345,357,377,395,1208,71,444,809,96,97,98,99,100,101,359,360,1210,1211,50,397,51,52,54,55,351,398,435,436,7,760,761,762,763,765,766,767,768,4,844,845,846,847,848,995,996,997,998,999,81,420,119,120,820,339,85,419,86,421,89,422,91,423,424,141,326,145,427,346,425,350,426,1212,1213,1214,1215,146,150,353,332,428,151,327,154,429,156,328,160,430,354,461,462,465,968,969,971,970,471,688,972,973,974,975,982,983,984,985,5,815,816,817,818,990,991,992,993,994,136,352,192,399,400,166,406,679,407,849,851,850,171,408,409,862,863,866,176,410,411,186,322,680,189,412,264,317,267,413,161,401,190,191,402,181,403,404,821,823,822,342,343,344,405,1223,1225,1224,1226,1227,976,977,978,1220,1221,1222,6,46,416,47,48,49,417,29,414,30,31,32,415,529,530,532,531,533,562,563,566,664,665,667,535,536,539,1205,1206,1207,567,568,569,570,571,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,831,832,836,835,833,837,840,838,839,834,841,843,842,1200,1216,1217,1218,1219,1201,1202,1203,1204,8,875,878,876,883,879,881,880,882,904,905,907,906,908,884,893,894,885,886,887,888,889,890,891,892,895,902,897,898,903,900,896,901,934,936,935,937,938,939,940,941,909,910,911,912,918,920,919,913,915,914,916,917,930,931,933,932,921,923,925,922,924,926,928,927,929,979,980,981",
          "roleId": "1"
        }
      },
      "validate": [
        {
          "check": "status_code",
          "assert": "eq",
          "expect": 200
        },
        {
          "check": "headers.\"Content-Type\"",
          "assert": "eq",
          "expect": "text/plain"
        }
      ]
    }
  ]
}